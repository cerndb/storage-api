Search.setIndex({docnames:["README","index","source/modules","source/storage_api","source/storage_api.apis","source/storage_api.apis.common","source/storage_api.extensions","source/storage_api.extensions.tests"],envversion:51,filenames:["README.md","index.rst","source/modules.rst","source/storage_api.rst","source/storage_api.apis.rst","source/storage_api.apis.common.rst","source/storage_api.extensions.rst","source/storage_api.extensions.tests.rst"],objects:{"":{storage_api:[3,0,0,"-"]},"storage_api.apis":{common:[5,0,0,"-"],storage:[4,0,0,"-"]},"storage_api.apis.common":{auth:[5,0,0,"-"]},"storage_api.apis.common.auth":{in_role:[5,1,1,""],setup_oauth:[5,1,1,""],setup_roles_from_env:[5,1,1,""]},"storage_api.apis.storage":{AllExports:[4,2,1,""],AllLocks:[4,2,1,""],AllSnapshots:[4,2,1,""],AllVolumes:[4,2,1,""],Export:[4,2,1,""],ExportRule:[4,2,1,""],Locks:[4,2,1,""],Snapshots:[4,2,1,""],Volume:[4,1,1,""],backend:[4,1,1,""],default_error_handler:[4,1,1,""],exception_is_errorcode:[4,1,1,""],handle_netapp_exception:[4,1,1,""]},"storage_api.apis.storage.AllExports":{endpoint:[4,3,1,""],get:[4,4,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""]},"storage_api.apis.storage.AllLocks":{endpoint:[4,3,1,""],get:[4,4,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""]},"storage_api.apis.storage.AllSnapshots":{endpoint:[4,3,1,""],get:[4,4,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""]},"storage_api.apis.storage.AllVolumes":{endpoint:[4,3,1,""],get:[4,4,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""]},"storage_api.apis.storage.Export":{"delete":[4,4,1,""],endpoint:[4,3,1,""],get:[4,4,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""],post:[4,4,1,""]},"storage_api.apis.storage.ExportRule":{"delete":[4,4,1,""],endpoint:[4,3,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""],put:[4,4,1,""]},"storage_api.apis.storage.Locks":{"delete":[4,4,1,""],endpoint:[4,3,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""],put:[4,4,1,""]},"storage_api.apis.storage.Snapshots":{"delete":[4,4,1,""],endpoint:[4,3,1,""],get:[4,4,1,""],mediatypes:[4,4,1,""],methods:[4,3,1,""],post:[4,4,1,""]},"storage_api.conf":{conf_to_dict:[3,1,1,""],load_backend_conf:[3,1,1,""],load_oauth_conf:[3,1,1,""],set_auth_string:[3,1,1,""],set_oauth_property:[3,1,1,""]},"storage_api.extensions":{storage:[6,0,0,"-"],tests:[7,0,0,"-"]},"storage_api.extensions.storage":{DummyStorage:[6,2,1,""],NetappStorage:[6,2,1,""],StorageBackend:[6,2,1,""],ValidationError:[6,5,1,""],annotate_exception:[6,1,1,""],normalised_with:[6,1,1,""],patch_and_diff:[6,1,1,""],validate_value:[6,1,1,""],vol_404:[6,1,1,""]},"storage_api.extensions.storage.DummyStorage":{clone_volume:[6,4,1,""],create_lock:[6,4,1,""],create_policy:[6,4,1,""],create_snapshot:[6,4,1,""],create_volume:[6,4,1,""],delete_snapshot:[6,4,1,""],ensure_policy_rule_absent:[6,4,1,""],ensure_policy_rule_present:[6,4,1,""],get_policy:[6,4,1,""],get_snapshot:[6,4,1,""],get_snapshots:[6,4,1,""],get_volume:[6,4,1,""],locks:[6,4,1,""],patch_volume:[6,4,1,""],policies:[6,3,1,""],raise_if_snapshot_absent:[6,4,1,""],raise_if_volume_absent:[6,4,1,""],remove_lock:[6,4,1,""],remove_policy:[6,4,1,""],restrict_volume:[6,4,1,""],rollback_volume:[6,4,1,""],set_policy:[6,4,1,""],volumes:[6,3,1,""]},"storage_api.extensions.storage.NetappStorage":{clone_volume:[6,4,1,""],create_lock:[6,4,1,""],create_policy:[6,4,1,""],create_snapshot:[6,4,1,""],create_volume:[6,4,1,""],delete_snapshot:[6,4,1,""],ensure_policy_rule_absent:[6,4,1,""],ensure_policy_rule_present:[6,4,1,""],format_policy:[6,4,1,""],format_volume:[6,4,1,""],get_policy:[6,4,1,""],get_snapshot:[6,4,1,""],get_snapshots:[6,4,1,""],get_volume:[6,4,1,""],locks:[6,4,1,""],name_from_path:[6,4,1,""],node_junction_path:[6,4,1,""],parse_volume_name:[6,4,1,""],patch_volume:[6,4,1,""],policies:[6,3,1,""],remove_lock:[6,4,1,""],remove_policy:[6,4,1,""],restrict_volume:[6,4,1,""],rollback_volume:[6,4,1,""],set_policy:[6,4,1,""],volumes:[6,3,1,""]},"storage_api.extensions.storage.StorageBackend":{clone_volume:[6,4,1,""],create_lock:[6,4,1,""],create_policy:[6,4,1,""],create_snapshot:[6,4,1,""],create_volume:[6,4,1,""],delete_snapshot:[6,4,1,""],ensure_policy_rule_absent:[6,4,1,""],ensure_policy_rule_present:[6,4,1,""],get_policy:[6,4,1,""],get_snapshot:[6,4,1,""],get_snapshots:[6,4,1,""],get_volume:[6,4,1,""],init_app:[6,4,1,""],locks:[6,4,1,""],patch_volume:[6,4,1,""],policies:[6,4,1,""],remove_lock:[6,4,1,""],remove_policy:[6,4,1,""],restrict_volume:[6,4,1,""],rollback_volume:[6,4,1,""],set_policy:[6,4,1,""],volumes:[6,3,1,""]},"storage_api.extensions.tests":{test_storage:[7,0,0,"-"]},"storage_api.extensions.tests.test_storage":{delete_volume:[7,1,1,""],ephermeral_volume:[7,1,1,""],id_from_vol:[7,1,1,""],new_volume:[7,1,1,""],on_all_backends:[7,1,1,""],test_add_lock:[7,1,1,""],test_all_policies_formatting_bug:[7,1,1,""],test_clone_volume:[7,1,1,""],test_create_already_existing_volume:[7,1,1,""],test_create_get_volume:[7,1,1,""],test_delete_policy:[7,1,1,""],test_delete_snapshot:[7,1,1,""],test_ensure_policy_rule_absent:[7,1,1,""],test_ensure_policy_rule_present:[7,1,1,""],test_get_no_locks:[7,1,1,""],test_get_no_volumes:[7,1,1,""],test_get_nonexistent_volume:[7,1,1,""],test_get_snapshots:[7,1,1,""],test_has_caching_policy:[7,1,1,""],test_lock_locked:[7,1,1,""],test_netapp_create_volume_as_name:[7,1,1,""],test_netapp_create_volume_jp_missing:[7,1,1,""],test_netapp_create_volume_name_missing:[7,1,1,""],test_netapp_create_volume_no_node:[7,1,1,""],test_netapp_create_volume_w_compression:[7,1,1,""],test_netapp_create_volume_w_policy:[7,1,1,""],test_netapp_create_volume_w_snapshot_reserve:[7,1,1,""],test_netapp_name_jp_both_work:[7,1,1,""],test_netapp_update_snapshot_reserve:[7,1,1,""],test_netapp_update_volume_compression:[7,1,1,""],test_netapp_update_volume_policy:[7,1,1,""],test_patch_volume:[7,1,1,""],test_remove_lock:[7,1,1,""],test_remove_lock_wrong_host:[7,1,1,""],test_remove_policy_no_policy_raises_key_error:[7,1,1,""],test_repr_doesnt_crash:[7,1,1,""],test_resize_volume:[7,1,1,""],test_restrict_volume:[7,1,1,""],test_rollback_volume:[7,1,1,""],test_set_policy:[7,1,1,""]},"storage_api.utils":{compose_decorators:[3,1,1,""],dict_without:[3,1,1,""],filter_none:[3,1,1,""],merge_two_dicts:[3,1,1,""],pairwise:[3,1,1,""]},storage_api:{apis:[4,0,0,"-"],conf:[3,0,0,"-"],extensions:[6,0,0,"-"],utils:[3,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","function","Python function"],"2":["py","class","Python class"],"3":["py","attribute","Python attribute"],"4":["py","method","Python method"],"5":["py","exception","Python exception"]},objtypes:{"0":"py:module","1":"py:function","2":"py:class","3":"py:attribute","4":"py:method","5":"py:exception"},terms:{"abstract":0,"break":6,"case":6,"class":[0,3,4,6],"default":[0,3],"export":[0,4,6],"final":0,"function":[4,6],"import":6,"new":[0,3,6],"public":0,"return":[0,3,4,6],"true":6,"while":0,For:0,Has:4,The:[0,5,6],There:0,Will:[6,7],__name__:6,_all_export:4,_all_lock:4,_all_snapshot:4,_all_volum:4,_export:4,_export_rul:4,_lock:4,_snapshot:4,abort:[4,5],about:6,abov:6,absent:[3,6],access:0,accord:6,action:6,activ:[0,6],activest:3,actual:[0,4,6],adapt:0,add:6,added:6,addit:6,adher:6,admin:0,administr:0,advis:0,after:[5,6],aggr0:6,aim:1,all:[4,6],allexport:4,alllock:4,allow:[0,6],allow_unknown:6,allsnapshot:4,allvolum:4,alreadi:[3,6],also:0,alwai:6,ani:6,annot:6,annotate_except:6,anoth:6,another_option_nam:0,another_option_valu:0,api:[3,6],app:[0,2,4,5,6],appear:6,applic:[0,5,6],appropri:6,arg:4,argument:0,around:0,as_list:6,assign:0,associ:6,assum:6,attempt:6,aunhent:5,auth:[3,4],authent:0,author:0,authoris:0,automat:0,avail:[0,4],back:[0,3,6],backend:[4,6,7],backend_nam:4,backendclass:0,backends_modul:3,base:[0,4,6],becaus:7,been:[0,5],befor:0,being:4,belong:6,below:0,bin:0,boilerpl:0,bool:6,both:[0,6],call:[0,4,5],can:[0,6],cannot:6,caus:6,central:0,cerberu:6,cerndb:0,certain:0,chang:[0,6],check:5,client:0,clone:[0,6],clone_volum:6,clone_volume_nam:6,close:6,closest:6,cluster:0,code:[0,3,4],colon:6,com:[0,3],comma:[0,3],command:0,common:[0,3,4],compil:0,compon:1,compos:3,compose_decor:3,conf:2,conf_list:3,conf_to_dict:3,config:5,configur:[3,5],constructor:0,contain:[0,3,6],content:2,context:[4,6],continu:1,control:0,convert:6,cooki:0,copi:3,correctli:6,correspond:[0,4],creat:6,create_lock:6,create_polici:6,create_snapshot:6,create_volum:6,creation:6,current:[0,6],data:6,debug:0,dec:3,decor:[3,5,6,7],def:5,default_error_handl:4,default_valu:3,delet:[4,6],delete_snapshot:6,delete_volum:7,deliv:0,depend:6,deploi:0,deploy:1,descript:[0,6],design:1,destruct:0,determin:0,dev:0,develop:1,devserv:0,dict:[3,6],dict_without:3,dictionari:[3,6],differ:0,directori:0,disabl:0,distinct:0,distribut:0,docker:0,dockeris:0,doe:6,done:[0,5],due:4,dummi:[0,6],dummystorag:[0,6],dure:0,each:6,either:6,element:6,emoji:0,empti:[0,6],enabl:0,end:[0,3,6],endpoint:[0,4,6],endpoint_nam:0,ensur:[3,6],ensure_policy_rule_abs:6,ensure_policy_rule_pres:6,entir:0,entri:6,environ:[0,3,5],ephermeral_volum:7,equival:6,error:[4,5,6],error_cod:4,etc:5,everi:7,exampl:[0,5,6],except:[4,6],exception_is_errorcod:4,exhaust:0,exist:6,exot:0,expect:6,explicitli:6,exportrul:4,extens:[0,2,3],face:0,factor:0,factori:0,fail:6,fals:6,far:0,fetch:3,field:[3,6],file:3,filer:[0,4],filer_address:6,filter_non:3,first:6,fix:6,flask:[0,5,6],flask_app:0,flask_debug:0,flask_restplu:[4,5],flow:5,follow:[0,6],foo:6,forc:6,form:6,format:6,format_polici:6,format_volum:6,found:6,framework:0,fresh:7,from:[0,3,4,5,6],from_snapshot_nam:6,from_volume_nam:6,full:0,func:7,futur:0,gener:[0,1,6],generalis:6,get:[0,3,4,5,6],get_polici:6,get_snapshot:6,get_volum:6,git:0,github:0,gitlab:0,give:6,given:[0,3,4,6],goe:0,going:5,group:[0,3,5],group_nam:5,guarante:6,handle_netapp_except:4,has:[0,7],have:[0,5,6],held:6,help:0,helper:3,here:7,hold:6,host:[4,6],host_own:6,hostnam:6,how:6,html:0,http:[0,3],hypothesi:0,id_from_vol:7,idempot:6,ignor:6,imag:0,immedi:0,implement:[0,6],impli:6,in_group:5,in_rol:5,includ:[0,3,6],increas:0,index:1,init_app:6,initi:5,initialis:[3,6,7],input:6,insert:3,instal:[0,6],integr:1,interact:0,interpret:6,invalid:6,invenio:0,item:[3,6],iter:3,its:6,jochen:3,json:0,junction:6,junction_path:6,just:0,keep:3,kei:[0,3,6],key_nam:3,keyerror:[3,6],kwarg:[4,6],later:4,least:[0,6],leav:0,less:0,librari:0,like:0,line:0,link:0,list:[0,3,6],load:[3,5],load_backend_conf:3,load_oauth_conf:3,lock:[4,6],log:0,login:[0,5],login_endpoint:5,logout:5,logout_endpoint:5,mainli:0,make:[0,4,6],makefil:0,malform:6,manag:6,map:0,mask:6,mean:0,meant:6,mediatyp:4,member:0,membership:5,merg:3,merge_two_dict:3,messag:[4,6],method:[4,6],minut:0,mode:0,model:0,modul:[0,1,2],more:0,most:0,mount:[0,6],much:0,multipl:0,must:[5,6,7],my_polici:6,mypassword:0,name:[0,3,5,6],name_from_path:6,neccessari:5,need:0,netapp:[0,6],netappstorag:[0,6],never:6,new_volum:7,node:6,node_junction_path:6,noisier:0,non:0,none:[3,4,6],normalis:6,normalised_with:6,notabl:6,note:[0,6],noth:6,number:[0,6],oauth2:[0,5],oauth:[0,3],oauth_property_nam:3,oauthresourc:0,object:[4,6,7],on_all_backend:7,onc:[0,7],one:[0,3],onli:6,openshift:0,openshift_push_token:0,oper:6,option:[0,3,5,6],option_nam:0,option_valu:0,order:[0,3],otherwis:6,packag:[1,2],page:1,pairwis:3,paramet:[5,6,7],parametris:7,pars:[3,6],parse_volume_nam:6,part:0,particular:6,pass:[0,3,4,5,6],password:[0,6],patch_and_diff:6,patch_volum:6,path:[0,6],pattern:0,per:0,perfectli:0,perform:6,persist:6,pip:0,plain:0,platform:6,pleas:[0,6],polici:[4,6],policy_nam:6,poorli:6,port:0,possibl:[0,6],post:4,potenti:6,present:[0,6],previou:6,privat:0,process:0,profil:0,project:1,proper:[0,6],properti:[3,6],proprety_nam:3,provid:[0,3,6,7],publish:0,push:0,put:[0,4],pytest:0,python3:0,python:0,rainbow:0,rais:[3,6],raise_if_snapshot_abs:6,raise_if_volum:6,raise_if_volume_abs:6,ram:[0,6],random:0,read:[3,6],readm:1,realli:0,reason:6,receiv:0,recent:6,recip:3,recommend:0,record:7,registri:0,rel:0,relev:0,rememb:0,remov:[3,6],remove_lock:6,remove_polici:6,render:0,replac:6,report:0,repres:6,request:0,requir:0,resolv:[0,6],resourc:4,resource_cl:4,rest:0,restore_snapshot_nam:6,restplu:0,restrict:6,restrict_volum:6,ritzel:3,role:[0,3,5],role_nam:3,roll:[0,6],rollback_volum:6,root:0,rout:0,rule:[4,6],run:[0,6,7],same:[0,6],sapi_backend:0,sapi_oauth_authorize_url:0,sapi_oauth_callback_url_rel:0,sapi_oauth_client_id:0,sapi_oauth_groups_url:0,sapi_oauth_property_nam:3,sapi_oauth_secret_kei:0,sapi_oauth_token_url:0,sapi_role_admin_group:0,sapi_role_uber_admin_group:0,sapi_role_user_group:0,sapi_role_x_group:3,schema:6,schema_nam:6,script:0,search:1,see:[0,6],self:5,semant:6,send:0,separ:[0,3,6,7],serv:0,server:0,servic:0,session:[0,5],set:[0,3,6],set_auth_str:3,set_oauth_properti:3,set_polici:6,setup:[0,5],setup_oauth:5,setup_roles_from_env:5,shallow:3,shorthand:0,should:[0,6],sign:0,signal:5,singl:0,situat:6,size_tot:6,size_us:6,snapshot:[4,6],snapshot_nam:[4,6],solut:0,some:0,someth:6,sourc:[0,1,3,4,5,6,7],specif:6,specifi:5,spectacl:0,sso:0,stackoverflow:3,standard:[0,6],state:6,statu:4,stop:0,storag:[3,5,7],storage_api:[1,2],storagebackend:6,str:[4,5,6],string:6,submodul:2,subpackag:2,subsystem:4,success:0,suggest:[3,6],suitabl:4,sure:4,swagger:0,system:6,take:0,team:0,test:[1,3,6],test_add_lock:7,test_all_policies_formatting_bug:7,test_clone_volum:7,test_create_already_existing_volum:7,test_create_get_volum:7,test_delete_polici:7,test_delete_snapshot:7,test_ensure_policy_rule_abs:7,test_ensure_policy_rule_pres:7,test_get_no_lock:7,test_get_no_volum:7,test_get_nonexistent_volum:7,test_get_snapshot:7,test_has_caching_polici:7,test_lock_lock:7,test_netapp_create_volume_as_nam:7,test_netapp_create_volume_jp_miss:7,test_netapp_create_volume_name_miss:7,test_netapp_create_volume_no_nod:7,test_netapp_create_volume_w_compress:7,test_netapp_create_volume_w_polici:7,test_netapp_create_volume_w_snapshot_reserv:7,test_netapp_name_jp_both_work:7,test_netapp_update_snapshot_reserv:7,test_netapp_update_volume_compress:7,test_netapp_update_volume_polici:7,test_patch_volum:7,test_remove_lock:7,test_remove_lock_wrong_host:7,test_remove_policy_no_policy_raises_key_error:7,test_repr_doesnt_crash:7,test_resize_volum:7,test_restrict_volum:7,test_rollback_volum:7,test_set_polici:7,test_storag:[3,6],text:6,thei:3,them:3,thi:[0,3,6,7],thing:6,though:0,through:0,time:0,timeout_:6,token:0,travi:0,tupl:6,two:3,txt:0,type:[4,6,7],uber:0,ubuntu:0,unauthent:[0,5],unicorn:0,uniqu:[0,6],unless:0,unset:0,until:4,updat:6,url:0,usabl:6,usag:1,use:[0,4],used:0,user:[0,5,6],usernam:[0,6],uses:0,using:[0,3],util:2,valid:6,validate_valu:6,validationerror:6,valu:[0,3,6],valueerror:6,variabl:[0,3],variou:3,verbos:0,versa:6,version:0,via:0,vice:6,virtualenv:0,vol_404:6,volum:[0,4,6],volume_nam:[4,6,7],volume_name_or_node_path:6,vs3sx50:0,vserver:[0,6],vvvv:0,wai:0,want:0,warn:6,wasn:6,web:0,went:6,were:6,what:6,when:6,where:0,which:[0,6],whose:0,within:0,without:0,work:0,would:6,write:6,wrong:6,x_group:3,yield:6,you:0},titles:["CERN Unified Storage API","CERN Unified Storage API documentation","storage-api","storage_api package","storage_api.apis package","storage_api.apis.common package","storage_api.extensions package","storage_api.extensions.tests package"],titleterms:{aim:0,api:[0,1,2,4,5],app:3,auth:5,cern:[0,1],common:5,compon:0,conf:3,configur:0,content:[3,4,5,6,7],continu:0,deploy:0,design:0,develop:0,document:[0,1],extens:[6,7],indic:1,integr:0,modul:[3,4,5,6,7],packag:[3,4,5,6,7],project:0,storag:[0,1,2,4,6],storage_api:[3,4,5,6,7],submodul:[3,4,5,6,7],subpackag:[3,4,6],tabl:1,test:[0,7],test_storag:7,unifi:[0,1],usag:0,util:3}})